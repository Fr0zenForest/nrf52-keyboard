# GT Ω45 键盘

## 描述

- 4x12的45%键盘
- 一个Caps灯和三个单色状态指示灯
- Type-C接口
- 蓝牙主控为nRF52832

## 硬件

此目录下：Gerber_Ω45_20190710214834.zip 为生产文件，包括Gerber生产文件、BOM清单、POS坐标

## 默认指示灯说明

红色灯(LED1为充电状态灯，充电状态红色灯亮，充满或未充电红色灯灭；
蓝色灯（LED2）为蓝牙连接状态提示灯，蓝牙连接状态蓝色灯亮；
橙色灯(LED3)为USB连接状态提示灯，USB连接输入状态橙色灯亮；
绿色灯(LED4)为caps lock状态灯。

## 功能按键说明


**休眠按键：切到第四层 + Backspace**- 20分钟不按键自动休眠，按Fn2(或Fn3) + Backspace可以手动进入休眠模式，按任意键可以唤醒（注：此键修改配列后需要自行设定。默认配列设置在第四层Backspace键位置）。

**关机按钮：ESC或~**  - 同时按下Lshift+Rshift时按此键可以手动进入关机模式，关机后需要按背部的Bootloader按钮才可重新开机。长期不用或携带外出建议关机。  

**切换蓝牙设备：Q/W/E/R** - 同时按下Lshift+Rshift时按Q/W/E/R可以在已绑定的蓝牙设备之间进行切换。  

**显示蓝牙键盘状态灯：L/?** - 在电池供电情况下，状态灯会自动熄灭，如要显示当前状态灯，同时按下Lshift+Rshift时按此键，将显示状态灯5秒。  

**锁定WIN键：G** - 同时按下Lshift+Rshift时按此键，将锁定WIN键，再次同时按下Lshift+Rshift时按此键，将恢复WIN键，重启将自动恢复WIN键。  

**切换连接模式按键：M** - 在通过USB和蓝牙同时连接一台设备（也可通过USB连接一台设备、蓝牙连接另一台设备）的情况下，同时按下Lshift+Rshift时按此键可以切换连接模式。如未同时使用USB模式和蓝牙模式，此按键无效。  

**清空Keymap自定义配例：Space+Backspace** - 每次唤醒或开机同时按Space+Backspace 可以清空自定义配例信息。如果出现按键错乱，也可以采用此键恢复初始配例。其余BOOTMAGIC键参考TMK，是基本一样的。  

**进入DFU刷机模式：B** - 同时按下Lshift+Rshift时按此键可以重启到DFU刷机模式。也可在唤醒的同时按Space+B进入DFU刷机模式。

**清空蓝牙绑定信息按键：Space+E** - 在唤醒的同时按Space+E可清空蓝牙绑定信息。 

## 相关参数的设定

考虑到耗电问题，正常键盘扫描按键输入为10ms一次，回报率为100Mhz;如果15秒不按键转入慢速扫描，100ms一次，当有按键按下，又自动转入正常扫描速度10ms一次；如果20分钟无按键行为将自动转入休眠模式，此时要重新启用键盘，只需要按任意键就可唤醒，唤醒动作后约1-2s可以正常输入。  

## 自定义按键
自定义按键采用Tkg网页+配例下载工具的方式实现：通过网站（因为tkg.io官网没支持，我自己建立了一个：kb.glab.online）配置好按键，然后下载keymap.eep文件，通过专门的刷配例软件KeymapDownloader.exe刷入蓝牙芯片。  